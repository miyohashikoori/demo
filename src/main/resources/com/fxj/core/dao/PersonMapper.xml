<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fxj.core.dao.PersonDao">
    <resultMap id="BaseResultMap" type="com.fxj.core.bean.Person">
        <id property="personid" column="personid" />
        <result property="personName" column="personName" javaType="String" jdbcType="VARCHAR"/>
        <result property="personAddress" column="personAddress" javaType="String" jdbcType="VARCHAR"/>
        <result property="personTel" column="personTel" javaType="String" jdbcType="VARCHAR"/>
        <collection property="ordersLise" ofType="com.fxj.core.bean.Orders">
            <id property="orderId" column="orderId" />
            <result property="orderNumber" column="orderNumber" javaType="String" jdbcType="VARCHAR"/>
            <result property="orderPrice" column="orderPrice" javaType="String" jdbcType="VARCHAR"/>
            <result property="pid" column="pid" javaType="String" jdbcType="VARCHAR"/>
        </collection>
    </resultMap>

    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        orderId, orderNumber,orderPrice,pid
    </sql>

    <!--<insert id="createresult" parameterType="com.fxj.core.bean.Orders" >-->
        <!--<selectKey keyProperty="orderId" order="AFTER" resultType="java.lang.Integer">-->
            <!--SELECT LAST_INSERT_ID()-->
        <!--</selectKey>-->
        <!--INSERT into zgfu_distribution.orders(-->
        <!--orderId, orderNumber,orderPrice,pid-->
        <!--)-->
        <!--values (-->
        <!--#{id},-->
        <!--#{username,jdbcType=VARCHAR}-->
        <!--)-->
    <!--</insert>-->

    <!--<insert id="create" parameterType="com.fxj.core.bean.Orders">-->
        <!--INSERT into zgfu_distribution.orders(-->
        <!--id,U_USERNAME-->
        <!--)-->
        <!--values (-->
         <!--#{id},-->
        <!--#{username,jdbcType=VARCHAR}-->
        <!--)-->
    <!--</insert>-->

    <!--<update id="update" parameterType="com.fxj.core.bean.Orders">-->
        <!--update zgfu_distribution.orders-->
        <!--set-->
            <!--U_USERNAME = #{username,jdbcType=VARCHAR}-->

        <!--where id = #{id}-->
    <!--</update>-->

    <!--<delete id="deleteById" parameterType="java.lang.Integer">-->
        <!--delete from zgfu_distribution.orders where id = #{id}-->
    <!--</delete>-->

    <!--<select id="getOne" parameterType="java.lang.Integer" resultMap="BaseResultMap">-->
        <!--SELECT-->
        <!--<include refid="Base_Column_List"/>-->
        <!--from zgfu_distribution.orders-->
        <!--where id=#{id}-->
    <!--</select>-->

    <!--<select id="findAll" resultMap="BaseResultMap">-->
        <!--SELECT-->
        <!--<include refid="Base_Column_List"/>-->
        <!--from zgfu_distribution.orders-->
    <!--</select>-->
    <!--<select id="findByFilter" parameterType="com.fxj.core.bean.Orders" resultMap="BaseResultMap">-->
        <!--SELECT-->
        <!--<include refid="Base_Column_List"/>-->
        <!--from zgfu_distribution.orders-->
        <!--where 1=1-->
        <!--<if test="id != null">-->
            <!--and id = #{id}-->
        <!--</if>-->
            <!--<if test="username != null">-->
            <!--and U_USERNAME = #{username,jdbcType=VARCHAR}-->
        <!--</if>-->
    <!--</select>-->
    <!--<select id="findByProperty" resultMap="BaseResultMap">-->
        <!--SELECT-->
        <!--<include refid="Base_Column_List"/>-->
        <!--from zgfu_distribution.orders-->
        <!--where 1=1-->
        <!--<if test="id != null">-->
            <!--and id = #{id}-->
        <!--</if>-->
                    <!--<if test="username != null">-->
                <!--and U_USERNAME = #{username,jdbcType=VARCHAR}-->
            <!--</if>-->
     <!--</select>-->

    <!--<select id="select" resultMap="BaseResultMap">-->
        <!--SELECT-->
        <!--<include refid="Base_Column_List"/>-->
        <!--from zgfu_distribution.orders-->
    <!--</select>-->

    <!--<select id="selectOne" resultMap="BaseResultMap">-->
        <!--SELECT-->
        <!--<include refid="Base_Column_List"/>-->
        <!--from zgfu_distribution.orders-->
        <!--limit 0,1-->
    <!--</select>-->


    <!--<select id="count" resultType="java.lang.Integer">-->
        <!--select count(*) from zgfu_distribution.orders-->
    <!--</select>-->

    <select id="selectPersonByid" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        SELECT o.*,p.* FROM zgfu_distribution.orders o,zgfu_distribution.person p WHERE o.pid=p.personid AND p.personid=#{personid}
    </select>

</mapper>